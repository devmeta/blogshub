$.extend($.easing,{easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a}});var Neave=Neave||{};(function(f){var d=false,j=0,h=0,m=0,l=0,e=false,a=new Image(),k=new Image();a.src="/assets/images/mt-dark.png";k.src="/assets/images/arrow-dark.png";function i(){d=true;$("#lang").show();$("#lang nav").animate({left:0},100,"easeOutQuad");$("#content").animate({right:50},100,"easeOutQuad")}function g(){d=false;$("#lang nav").animate({left:50},100,"easeInQuad",function(){$("#lang").hide()});$("#content").animate({right:0},100,"easeInQuad")}f.toggleLang=function(n){n.preventDefault();if(d){g()}else{i()}};f.updateDots=function(){if(!f.isIE7){f.$dotsDivs.removeClass("dot-over");$("#dots .dot:eq("+l+") div").addClass("dot-over")}};f.getMenuItem=function(){if(l===0){return f.$menuIntro}return $("#menu li:eq("+(l-1)+")")};f.hideItems=function(){f.$menuIntro.hide();f.$menuItems.hide()};f.hideMenuItem=function(){var n=f.getMenuItem();if(f.hasCSS3D){n.addClass("hide-item").removeClass("show-item");setTimeout(f.hideItems,175)}else{n.stop(true,true).animate({opacity:0,marginTop:50},150,"easeInQuad",f.hideItems)}};f.showMenuItem=function(){var n=f.getMenuItem();e=false;if(f.hasCSS3D){clearInterval(m);n.addClass("reset-item").removeClass("hide-item").show();m=setTimeout(function(){n.addClass("show-item").removeClass("reset-item")},50)}else{n.css({opacity:0,marginTop:-25}).show().delay(50).animate({opacity:1,marginTop:0},150,"easeOutQuad")}f.updateDots()};f.addVoronoiSWF=function(){if(window.swfobject&&swfobject.hasFlashPlayerVersion("10.0.0")){f.$viewH1.hide();var n=f.$viewH1.css("background-image").replace(/^url|[\(\)]/g,"")||"";swfobject.createSWF({data:"/home-voronoi.swf",width:"800",height:"260",},{wmode:"opaque",bgcolor:"#000000",menu:"false",allowscriptaccess:"always",flashvars:"logo="+n},"voronoi")}else{f.$viewH1.css("opacity",1)}};f.goToItem=function(o){if(l===o||f.aboutMode||e){return}e=true;if(o<0){o=f.totalItems}else{if(o>f.totalItems){o=0}}if(window.Voronoi){if(o===0){Voronoi.start()}else{Voronoi.stop()}}if(f.hasCSS3D){f.hideMenuItem();f.$viewDiv.css("-webkit-transform","translate3d("+(o*-800)+"px,0,0)");f.updateDots();clearTimeout(j);j=setTimeout(f.showMenuItem,325)}else{f.$viewNav.stop(true,true).animate({scrollLeft:o*800},300,"easeInOutQuad",f.showMenuItem)}f.hideMenuItem();l=o};f.previousItem=function(){f.goToItem(l-1)};f.nextItem=function(){f.goToItem(l+1)};f.goToHome=function(){if(f.aboutMode&&!f.aboutPage){if(f.hasHistory){window.history.pushState(null,null,"../")}f.hideAbout()}else{f.goToItem(0)}};f.goToLink=function(){if(l>0){window.location=$("#menu a:eq("+l+")").attr("href")}};f.goToDot=function(p){var o=$(p.target);var q=f.$dotsDivs.index(o);if(q===-1){q=$("#dots .dot").index(o)}if(q!==-1){f.goToItem(q)}};function b(){f.$viewButtons.hide();if(f.hasCSS3D){f.$aboutDiv.addClass("show-about").css("opacity",1).removeClass("reset-about");setTimeout(function(){f.$aboutBack.css("opacity",1);f.$aboutPhoto.css("opacity",1);setTimeout(function(){f.$aboutArticle.css("opacity",1);f.$copyright.show()},100)},250)}else{f.$aboutDiv.animate({opacity:1,marginTop:0},250,"easeOutQuad",function(){f.$aboutBack.animate({opacity:1},100);f.$aboutPhoto.animate({opacity:1},100,function(){f.$aboutArticle.animate({opacity:1},100);f.$copyright.show()})})}}f.showAbout=function(){if(f.aboutMode){return}f.aboutMode=true;if(window.Voronoi){Voronoi.stop()}else{if(window.swfobject){swfobject.removeSWF("voronoi");$("#view-home").append('<div id="voronoi"></div>')}}if(f.hasCSS3D){$("#about>div,#about article,#about img,#about .button").css("opacity",0);f.$aboutDiv.addClass("reset-about").show();f.$viewDots.css("opacity",0)}else{$("#about>div,#about article,#about img,#about .button").css("opacity",0);f.$aboutDiv.css({marginTop:-50}).show();f.$viewDots.animate({opacity:0},250)}f.$copyright.hide();setTimeout(function(){if(f.hasCSS3D){f.$viewButtons.css("opacity",0)}else{f.$viewButtons.fadeOut(150)}f.hideMenuItem();setTimeout(b,300)},300)};function c(){f.$aboutDiv.hide();if(f.hasCSS3D){f.$aboutDiv.removeClass("hide-about");f.$viewButtons.css("opacity",1)}else{f.$viewButtons.fadeIn(150)}setTimeout(function(){if(f.hasCSS3D){f.$viewDots.css("opacity",1)}else{f.$viewDots.animate({opacity:1},250)}f.showMenuItem();f.aboutMode=false;if(window.Voronoi){setTimeout(Voronoi.start,100)}else{f.addVoronoiSWF()}},100)}f.hideAbout=function(){if(!f.aboutMode){return}f.$copyright.hide();if(f.hasCSS3D){f.$aboutBack.css("opacity",0);f.$aboutArticle.css("opacity",0);setTimeout(function(){f.$aboutPhoto.css("opacity",0);setTimeout(function(){f.$aboutDiv.addClass("hide-about").css("opacity",0).removeClass("show-about");f.$viewButtons.show();setTimeout(c,200)},100)},100)}else{f.$aboutBack.animate({opacity:0},100);f.$aboutArticle.animate({opacity:0},100,function(){f.$aboutPhoto.animate({opacity:0},100,function(){f.$aboutDiv.animate({opacity:0,marginTop:25},150,"easeInQuad");setTimeout(c,200)})})}};f.openContactWindow=function(s){var u=550,v=window.screenX||0,p=v?$(window).width():screen.availWidth,q=370,r=window.screenY||0,n=r?$(window).height():screen.availHeight,o=v+(p-u)/2,t=r+(n-q)/2+50;window.open(s.target.href,"neavecontact","resizable=yes,toolbar=no,scrollbars=yes,status=no,width="+u+",height="+q+",left="+o+",top="+t);s.preventDefault()}}(Neave));$(document).ready(function(g){if(Neave.isIE6){return}var f=$("#view"),d=$("#dots"),b;Neave.aboutMode=Neave.aboutPage=$("body").hasClass("about");Neave.$viewNav=$("#view nav");Neave.$viewDiv=$("#view nav>div");Neave.$viewList=$("#view ul");Neave.$viewH1=$("#view h1");Neave.$viewButtons=$("#left,#right");Neave.$viewDots=$("#view,#dots");Neave.$menuIntro=$("#menu>p");Neave.$menuItems=$("#menu li");Neave.$aboutDiv=$("#about>div");Neave.$aboutArticle=$("#about article");Neave.$aboutPhoto=$("#about img");Neave.$aboutBack=$("#about .button");Neave.totalItems=Neave.$menuItems.size();Neave.$copyright=$("#copy");$("#menu li a,#view li a").attr("target","_top");if(Neave.hasCSS3D){Neave.$viewDiv.addClass("view-has3d")}if(Neave.hasCanvas){$.getScript("/assets/js/min/home-voronoi.js",function(){if(window.Voronoi){var e=$("#voronoi canvas")[0];e.onselectstart=Neave.preventDefault;Voronoi.init(e,800,260,Neave.isTouch);Voronoi.start();if(Neave.hasCSS3D){Neave.$viewH1.addClass("fade-500");setTimeout(function(){Neave.$viewH1.css("opacity",1)},300)}else{Neave.$viewH1.delay(300).animate({opacity:1},500,Voronoi.start)}}})}else{$.getScript("/assets/js/libs/swfobject.js",Neave.addVoronoiSWF)}if(!Neave.isIE7){for(b=Neave.totalItems+1;b--;){d.append('<div class="dot"><div class="dot-out"></div></div>')}Neave.$dotsDivs=$("#dots .dot div");Neave.updateDots()}function c(){f.removeClass("view-down")}function a(){f.addClass("view-down")}if(Neave.isTouch){$("#flag").bind({touchstart:Neave.preventDefault,touchend:Neave.toggleLang});$("#left").bind({touchstart:Neave.preventDefault,touchend:Neave.previousItem});$("#right").bind({touchstart:Neave.preventDefault,touchend:Neave.nextItem});$("#dots .dot").bind("touchend",Neave.goToDot);$("#logo div,header h1").bind("touchend",Neave.goToHome)}else{if(Neave.isIE7){Neave.$viewList.width((Neave.totalItems+1)*800)}else{$("#flag").click(Neave.toggleLang);$("#dots .dot").click(Neave.goToDot)}$("#left").buttonClick(Neave.previousItem);$("#right").buttonClick(Neave.nextItem);Neave.$viewButtons.mouseover(function(){$(this).addClass("view-button-hover")}).mouseout(function(){$(this).removeClass("view-button-hover")});$("#logo div,header h1").click(Neave.goToHome);$("#head-contact a").click(Neave.openContactWindow);if(!Neave.aboutPage){$("#view a").mousedown(a).mouseout(c).mouseup(c).focus(function(h){Neave.hideItems();setTimeout(function(){Neave.getMenuItem().css({opacity:1,marginTop:0}).show()},50)});$(document).keydown(function(h){if(h.keyCode===37){$("#left").addClass("view-button-active")}else{if(h.keyCode===39){$("#right").addClass("view-button-active")}}}).keyup(function(h){if(h.keyCode===37){$("#left").removeClass("view-button-active");Neave.previousItem()}else{if(h.keyCode===39){$("#right").removeClass("view-button-active");Neave.nextItem()}else{if(h.keyCode===13){Neave.goToLink()}}}})}}$("#head-mt a,#about a").click(function(h){Neave.trackLink("Outbound",h.target.href)});$("#lang a").click(function(i){var h=$(i.target).attr("alt");if(!h){h=$(i.target).attr("hreflang");if(!h){h="en"}}if(h==="pt-BR"){h="pt"}Neave.setLangCookie(h)});if(!Neave.aboutPage){$("#head-about a,#menu>p>a").click(function(h){h.preventDefault();if(Neave.hasHistory&&!Neave.aboutMode){window.history.pushState("about",null,h.target.href)}Neave.showAbout()});Neave.$aboutBack.click(Neave.preventDefault).buttonClick(function(){if(Neave.hasHistory){window.history.pushState(null,null,"../")}Neave.hideAbout()});if(Neave.hasHistory){$(window).bind("popstate",function(h){if(h.originalEvent.state==="about"){Neave.showAbout()}else{Neave.hideAbout()}})}if(Neave.hasCSS3D){Neave.$viewButtons.addClass("fade-150");Neave.$viewDots.addClass("fade-250");$("#about img,#about article").addClass("fade-100")}}$("#content").noisy()});